ğŸ“š Imagine a Library Book
Thereâ€™s one special book in the library.
Many students want to read it, and sometimes a student wants to write (change or add something) in it.

Two Types of People:
Readers ğŸ‘“

Just look at the book (donâ€™t change anything).

Many readers can read at the same time!

Writers âœï¸

They edit the book.

Only one writer at a time.

No one else (not even readers!) can touch the book while writing.

âš ï¸ The Problem:
If a writer is writing, no one else should be reading or writing.

But if only readers are reading, they can all read together.

We need to manage who goes when, so the book doesnâ€™t get messed up or have wrong data.

ğŸ› ï¸ The Solution (Using Semaphores or Locks)
We use:

Mutex ğŸ›‘ â€“ To protect the reader count.

WriteLock ğŸ” â€“ To make sure only one writer or all readers are working safely.

ğŸ“– Simple Working Steps:
ğŸ‘“ Reader:
Wait (lock) to update reader count.

If first reader â†’ block writers.

Unlock.

Read the book.

Lock again to reduce reader count.

If last reader â†’ allow writers.

Unlock.

âœï¸ Writer:
Wait (lock) to block everyone.

Write the book.

Unlock (so others can go).

ğŸ’¡ Real-Life Example:
Readers = People visiting a library to read a book.

Writer = The librarian updating the book.

Librarian wonâ€™t let people read while editing.

But many readers can read together if the librarian isnâ€™t editing.

âœ… Goal:
Let:

Many readers read together.

Only one writer write, and no one else during that time.

Avoid data errors or conflicts!
